os: linux
dist: focal

stages:
  - name: start
  - name: test
  - name: validate

# ---------- LINT STAGE ----------
jobs:
  include:
    - stage: start
      name: "Start check"
      language: minimal
      script:
        - echo "Start stage passed"

# ---------- TEST STAGE ----------
    - stage: test
      name: "PHP 5.6"
      language: php
      php: "5.6"
      script:
        - php -v

    - stage: test
      name: "Python 3.8"
      language: python
      python: "3.8"
      script:
        - python -c "print('Python OK')"

    - stage: test
      name: "NodeJS 12"
      language: node_js
      node_js: "12"
      script:
        - node -e "console.log('NodeJS OK')"

    - stage: test
      name: "Java OpenJDK8"
      language: java
      jdk: openjdk8
      script:
        - javac -version

# ---------- VALIDATION STAGE ----------
    - stage: validate
      name: "Final validation"
      language: minimal
      script:
        - echo "All stages completed successfully"
